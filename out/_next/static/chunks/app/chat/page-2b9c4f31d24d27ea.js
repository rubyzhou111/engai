(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{714:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(5155);function i(e){let{title:t="",showBack:s=!1,onBack:i,rightAction:r}=e;return(0,a.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-md border-b border-gray-100 px-4 py-3 z-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[s&&(0,a.jsx)("button",{onClick:i,className:"w-10 h-10 flex items-center justify-center mr-2 -ml-2",children:(0,a.jsx)("i",{className:"ri-arrow-left-line text-xl text-gray-700"})}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-gray-900",children:t})]}),r&&(0,a.jsx)("div",{className:"flex items-center",children:r})]})})}},4116:(e,t,s)=>{Promise.resolve().then(s.bind(s,4442))},4284:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),i=s(6874),r=s.n(i),l=s(5695);function n(){let e=(0,l.usePathname)();return(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-100 px-0 py-2 z-50",children:(0,a.jsx)("div",{className:"grid grid-cols-5 gap-0",children:[{icon:"ri-dashboard-line",activeIcon:"ri-dashboard-fill",label:"首页",href:"/"},{icon:"ri-message-line",activeIcon:"ri-message-fill",label:"对话",href:"/chat"},{icon:"ri-mic-line",activeIcon:"ri-mic-fill",label:"发音",href:"/pronunciation"},{icon:"ri-book-line",activeIcon:"ri-book-fill",label:"课程",href:"/courses"},{icon:"ri-user-line",activeIcon:"ri-user-fill",label:"我的",href:"/profile"}].map(t=>{let s=e===t.href;return(0,a.jsxs)(r(),{href:t.href,className:"flex flex-col items-center justify-center py-2 px-1 transition-colors duration-200 ".concat(s?"text-[#4361EE]":"text-gray-500"),children:[(0,a.jsx)("div",{className:"w-6 h-6 flex items-center justify-center mb-1",children:(0,a.jsx)("i",{className:"".concat(s?t.activeIcon:t.icon," text-xl")})}),(0,a.jsx)("span",{className:"text-xs font-medium",children:t.label})]},t.href)})})})}},4442:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),i=s(2115),r=s(714),l=s(4284);function n(e){let{isRecording:t,audioLevel:s,onStartRecording:i}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[t?(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,a.jsxs)("button",{onClick:()=>{},className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center shadow-lg animate-pulse relative",children:[(0,a.jsx)("i",{className:"ri-stop-fill text-2xl text-white"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-red-300 animate-ping"})]}),(0,a.jsx)("div",{className:"flex items-end space-x-1 h-12",children:(()=>{let e=[];for(let i=0;i<20;i++){let r=t?Math.max(4,(Math.sin(Date.now()/100+i)+1)*s/4):8*Math.random()+4;e.push((0,a.jsx)("div",{className:"w-1 bg-gradient-to-t from-[#4361EE] to-[#64E9EE] rounded-full transition-all duration-100 ".concat(t?"opacity-100":"opacity-30"),style:{height:"".concat(r,"px"),animationDelay:"".concat(50*i,"ms")}},i))}return e})()}),(0,a.jsxs)("div",{className:"text-sm font-mono text-gray-600",children:["00:",String(Math.floor(Date.now()/1e3)%60).padStart(2,"0")]})]}):(0,a.jsx)("button",{onClick:i,className:"w-16 h-16 bg-gradient-to-br from-[#4361EE] to-[#64E9EE] rounded-full flex items-center justify-center shadow-lg hover:scale-105 transition-transform active:scale-95",children:(0,a.jsx)("i",{className:"ri-mic-line text-2xl text-white"})}),t&&(0,a.jsx)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2",children:(0,a.jsxs)("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-medium flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),(0,a.jsx)("span",{children:"正在录音..."})]})})]})}function c(e){let{character:t="friendly-barista",isThinking:s=!1}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden ".concat(s?"animate-pulse":""),children:(0,a.jsx)("img",{src:"https://readdy.ai/api/search-image?query=$%7BcharacterImages%5Bcharacter%5D%20%7C%7C%20characterImages%5Bfriendly-barista%5D%7D&width=50&height=50&seq=ai-avatar-".concat(t,"&orientation=squarish"),alt:"AI Avatar",className:"w-full h-full object-cover"})}),s&&(0,a.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-[#64E9EE] animate-spin"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]})}function o(e){let{message:t,showTranslation:s}=e,i="user"===t.type;return(0,a.jsxs)("div",{className:"flex items-start space-x-3 ".concat(i?"flex-row-reverse space-x-reverse":""),children:[!i&&(0,a.jsx)(c,{character:t.aiCharacter||"friendly-barista"}),(0,a.jsxs)("div",{className:"max-w-[280px] ".concat(i?"items-end":"items-start"," flex flex-col"),children:[(0,a.jsxs)("div",{className:"px-4 py-3 rounded-2xl relative ".concat(i?"bg-gradient-to-r from-[#4361EE] to-[#64E9EE] text-white":"bg-white/90 backdrop-blur-sm text-gray-800 shadow-sm"),children:[(0,a.jsx)("div",{className:"text-sm leading-relaxed",children:t.content}),!i&&(0,a.jsx)("button",{className:"absolute -right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-[#4361EE] rounded-full flex items-center justify-center shadow-md hover:scale-110 transition-transform",children:(0,a.jsx)("i",{className:"ri-play-fill text-white text-sm ml-0.5"})}),i&&t.score&&(0,a.jsx)("div",{className:"absolute -left-2 top-1/2 transform -translate-y-1/2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-md",children:(0,a.jsx)("span",{className:"text-xs font-bold text-[#4361EE]",children:t.score})})]}),s&&t.translation&&!i&&(0,a.jsx)("div",{className:"mt-2 px-3 py-2 bg-yellow-50 text-yellow-800 rounded-xl text-sm max-w-[260px]",children:t.translation}),(0,a.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:t.timestamp.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}),i&&t.score&&(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-600",children:["流利度 ",t.score,"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,a.jsxs)("span",{className:"text-gray-600",children:["准确度 ",t.score+5,"%"]})]})]})]}),i&&(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[#4361EE] to-[#64E9EE] rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-semibold text-sm",children:"You"})})]})}function d(e){var t;let{scenario:s}=e,[r,l]=(0,i.useState)([{id:1,type:"ai",content:"Hello! Welcome to our coffee shop. What would you like to order today?",translation:"你好！欢迎来到我们的咖啡店。今天你想点什么？",timestamp:new Date,aiCharacter:"friendly-barista"}]),[d,x]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),[b,g]=(0,i.useState)(0),[p,j]=(0,i.useState)(!1),v=(0,i.useRef)(null);return(0,i.useEffect)(()=>{var e;null==(e=v.current)||e.scrollIntoView({behavior:"smooth"})},[r]),(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-100 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:s.title}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"\xb7"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:s.level})]}),(0,a.jsxs)("button",{onTouchStart:()=>f(!0),onTouchEnd:()=>f(!1),onMouseDown:()=>f(!0),onMouseUp:()=>f(!1),className:"px-3 py-1 bg-blue-100 text-blue-600 rounded-full text-sm font-medium",children:[(0,a.jsx)("i",{className:"ri-translate-line mr-1"}),"长按翻译"]})]})}),(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-cover bg-center filter blur-sm opacity-30",style:{backgroundImage:"url(https://readdy.ai/api/search-image?query=$%7Bscenario.background%7D&width=400&height=600&seq=chat-bg-01&orientation=portrait)"}}),(0,a.jsxs)("div",{className:"relative z-10 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[r.map(e=>(0,a.jsx)(o,{message:e,showTranslation:u},e.id)),m&&(0,a.jsxs)("div",{className:"flex items-center space-x-3 px-4",children:[(0,a.jsx)(c,{isThinking:!0,character:"friendly-barista"}),(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl px-4 py-3 shadow-sm",children:(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]}),(0,a.jsx)("div",{ref:v})]}),p&&(0,a.jsxs)("div",{className:"absolute bottom-24 left-4 right-4 bg-white/95 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-100",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-700 mb-3",children:"试试这些表达："}),(0,a.jsx)("div",{className:"space-y-2",children:["I'd like a cappuccino, please.","Can I have a large coffee?","What do you recommend?"].map((e,t)=>(0,a.jsx)("button",{className:"w-full text-left px-3 py-2 bg-blue-50 text-blue-600 rounded-xl text-sm hover:bg-blue-100 transition-colors",children:e},t))})]}),(0,a.jsx)("div",{className:"bg-white/95 backdrop-blur-sm border-t border-gray-100 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>{j(!0),setTimeout(()=>j(!1),5e3)},className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-lightbulb-line text-xl text-gray-600"})}),(0,a.jsx)("div",{className:"flex-1 mx-4",children:(0,a.jsx)(n,{isRecording:d,audioLevel:b,onStartRecording:()=>{x(!0);let e=setInterval(()=>{g(100*Math.random())},100);setTimeout(()=>{x(!1),h(!0),clearInterval(e),g(0);let t={id:r.length+1,type:"user",content:"I would like a cappuccino and a croissant, please.",translation:"我想要一杯卡布奇诺和一个面包",aiCharacter:"",timestamp:new Date,score:85};l(e=>[...e,t]),setTimeout(()=>{h(!1);let e={id:r.length+2,type:"ai",content:"Great choice! Would you like that cappuccino with regular milk or would you prefer a plant-based alternative?",translation:"很好的选择！你想要普通牛奶的卡布奇诺还是植物奶的？",timestamp:new Date,aiCharacter:"friendly-barista"};l(t=>[...t,e])},2e3)},3e3)}})}),(0,a.jsx)("button",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-settings-line text-xl text-gray-600"})})]})})]})]}),u&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 mx-4 max-w-sm",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"实时翻译"}),(0,a.jsx)("div",{className:"text-gray-600",children:(null==(t=r[r.length-1])?void 0:t.translation)||"等待翻译..."})]})})})]})}function x(e){let{currentScenario:t,onSelect:s,onClose:i}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end",children:(0,a.jsxs)("div",{className:"w-full bg-white rounded-t-3xl max-h-[80vh] overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"选择对话场景"}),(0,a.jsx)("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100",children:(0,a.jsx)("i",{className:"ri-close-line text-xl text-gray-500"})})]})}),(0,a.jsx)("div",{className:"overflow-y-auto max-h-[calc(80vh-80px)]",children:(0,a.jsx)("div",{className:"p-4 space-y-4",children:[{id:"coffee-shop",title:"咖啡店点单",level:"商务初级",description:"练习日常点餐对话，学习礼貌用语",difficulty:1,background:"Coffee shop interior with barista and customer interaction, cozy atmosphere, warm lighting, realistic coffee shop setting"},{id:"business-meeting",title:"商务会议",level:"商务中级",description:"商务场景对话，提升职场沟通能力",difficulty:3,background:"Modern business meeting room with professionals discussing, corporate environment, professional lighting"},{id:"airport-travel",title:"机场出行",level:"旅游中级",description:"机场、海关等旅行场景对话练习",difficulty:2,background:"Airport terminal with travelers and staff, modern aviation environment, bright lighting, travel atmosphere"},{id:"hotel-checkin",title:"酒店入住",level:"旅游初级",description:"酒店前台对话，学习住宿相关表达",difficulty:1,background:"Elegant hotel lobby with reception desk, luxury interior, professional hospitality setting"},{id:"job-interview",title:"求职面试",level:"商务高级",description:"面试场景模拟，提升求职英语水平",difficulty:4,background:"Professional interview room setting, formal business environment, corporate atmosphere"},{id:"shopping-mall",title:"购物中心",level:"生活初级",description:"购物场景对话，学习消费相关词汇",difficulty:1,background:"Modern shopping mall interior with stores and customers, retail environment, bright commercial lighting"}].map(e=>{let i;return(0,a.jsx)("div",{onClick:()=>s(e),className:"border-2 rounded-2xl p-4 cursor-pointer transition-all ".concat(t.id===e.id?"border-[#4361EE] bg-blue-50":"border-gray-100 hover:border-gray-200"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-xl overflow-hidden",children:(0,a.jsx)("img",{src:"https://readdy.ai/api/search-image?query=$%7Bscenario.background%7D&width=80&height=80&seq=scenario-".concat(e.id,"&orientation=squarish"),alt:e.title,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-gray-900",children:e.title}),t.id===e.id&&(0,a.jsx)("div",{className:"w-6 h-6 bg-[#4361EE] rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-check-line text-white text-sm"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case 1:return"bg-green-100 text-green-600";case 2:return"bg-yellow-100 text-yellow-600";case 3:return"bg-orange-100 text-orange-600";case 4:return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}})(e.difficulty)),children:e.level}),(0,a.jsx)("span",{className:"text-yellow-500 text-sm",children:(i=e.difficulty,"★".repeat(i)+"☆".repeat(5-i))})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]})]})},e.id)})})})]})})}function m(){let[e,t]=(0,i.useState)({id:"coffee-shop",title:"咖啡店点单",level:"商务中级",background:"Coffee shop interior with soft lighting, blurred background, cozy atmosphere, warm tones, realistic coffee shop environment",description:"在咖啡店点单的商务中级场景",difficulty:2}),[s,n]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 relative",children:[(0,a.jsx)(r.A,{title:"AI对话练习",showBack:!0,onBack:()=>window.history.back(),rightAction:(0,a.jsx)("button",{onClick:()=>n(!0),className:"w-10 h-10 flex items-center justify-center",children:(0,a.jsx)("i",{className:"ri-settings-3-line text-xl text-gray-700"})})}),(0,a.jsx)("div",{className:"pt-16 pb-20",children:(0,a.jsx)(d,{scenario:e})}),(0,a.jsx)(l.A,{}),s&&(0,a.jsx)(x,{currentScenario:e,onSelect:e=>{t(e),n(!1)},onClose:()=>n(!1)})]})}}},e=>{e.O(0,[244,441,964,358],()=>e(e.s=4116)),_N_E=e.O()}]);